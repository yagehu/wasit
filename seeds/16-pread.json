{
    "mount_base_dir": true,
    "calls": [
        {
            "func": "path_open",
            "params": [
                { "resource": 0 },
                {
                    "raw_value": {
                        "bitflags": {
                            "repr": "u32",
                            "members": [
                                { "name": "symlink_follow", "value": false }
                            ]
                        }
                    }
                },
                {
                    "raw_value": {
                        "string": {
                            "utf8": "a"
                        }
                    }
                },
                {
                    "raw_value": {
                        "bitflags": {
                            "repr": "u16",
                            "members": [
                                { "name": "creat",     "value": true },
                                { "name": "directory", "value": false },
                                { "name": "excl",      "value": true },
                                { "name": "trunc",     "value": false }
                            ]
                        }
                    }
                },
                {
                    "raw_value": {
                        "bitflags": {
                            "repr": "u64",
                            "members": [
                                { "name": "fd_datasync",             "value": true },
                                { "name": "fd_read",                 "value": true },
                                { "name": "fd_seek",                 "value": true },
                                { "name": "fd_fdstat_set_flags",     "value": true },
                                { "name": "fd_sync",                 "value": true },
                                { "name": "fd_tell",                 "value": true },
                                { "name": "fd_write",                "value": true },
                                { "name": "fd_advise",               "value": true },
                                { "name": "fd_allocate",             "value": true },
                                { "name": "path_create_directory",   "value": true },
                                { "name": "path_create_file",        "value": true },
                                { "name": "path_link_source",        "value": true },
                                { "name": "path_link_target",        "value": true },
                                { "name": "path_open",               "value": true },
                                { "name": "fd_readdir",              "value": true },
                                { "name": "path_readlink",           "value": true },
                                { "name": "path_rename_source",      "value": true },
                                { "name": "path_rename_target",      "value": true },
                                { "name": "path_filestat_get",       "value": true },
                                { "name": "path_filestat_set_size",  "value": true },
                                { "name": "path_filestat_set_times", "value": true },
                                { "name": "fd_filestat_get",         "value": true },
                                { "name": "fd_filestat_set_size",    "value": true },
                                { "name": "fd_filestat_set_times",   "value": true },
                                { "name": "path_symlink",            "value": true },
                                { "name": "path_remove_directory",   "value": true },
                                { "name": "path_unlink_file",        "value": true },
                                { "name": "poll_fd_readwrite",       "value": true },
                                { "name": "sock_shutdown",           "value": false },
                                { "name": "sock_accept",             "value": false }
                            ]
                        }
                    }
                },
                {
                    "raw_value": {
                        "bitflags": {
                            "repr": "u64",
                            "members": [
                                { "name": "fd_datasync",             "value": true },
                                { "name": "fd_read",                 "value": true },
                                { "name": "fd_seek",                 "value": true },
                                { "name": "fd_fdstat_set_flags",     "value": true },
                                { "name": "fd_sync",                 "value": true },
                                { "name": "fd_tell",                 "value": true },
                                { "name": "fd_write",                "value": true },
                                { "name": "fd_advise",               "value": true },
                                { "name": "fd_allocate",             "value": true },
                                { "name": "path_create_directory",   "value": true },
                                { "name": "path_create_file",        "value": true },
                                { "name": "path_link_source",        "value": true },
                                { "name": "path_link_target",        "value": true },
                                { "name": "path_open",               "value": true },
                                { "name": "fd_readdir",              "value": true },
                                { "name": "path_readlink",           "value": true },
                                { "name": "path_rename_source",      "value": true },
                                { "name": "path_rename_target",      "value": true },
                                { "name": "path_filestat_get",       "value": true },
                                { "name": "path_filestat_set_size",  "value": true },
                                { "name": "path_filestat_set_times", "value": true },
                                { "name": "fd_filestat_get",         "value": true },
                                { "name": "fd_filestat_set_size",    "value": true },
                                { "name": "fd_filestat_set_times",   "value": true },
                                { "name": "path_symlink",            "value": true },
                                { "name": "path_remove_directory",   "value": true },
                                { "name": "path_unlink_file",        "value": true },
                                { "name": "poll_fd_readwrite",       "value": true },
                                { "name": "sock_shutdown",           "value": false },
                                { "name": "sock_accept",             "value": false }
                            ]
                        }
                    }
                },
                {
                    "raw_value": {
                        "bitflags": {
                            "repr": "u8",
                            "members": [
                                { "name": "append",   "value": false },
                                { "name": "dsync",    "value": false },
                                { "name": "nonblock", "value": false },
                                { "name": "rsync",    "value": false },
                                { "name": "sync",     "value": false }
                            ]
                        }
                    }
                }
            ],
            "results": [
                { "resource": 1 }
            ]
        },
        {
            "func": "fd_write",
            "params": [
                { "resource": 1 },
                {
                    "raw_value": {
                        "array": [
                            {
                                "raw_value": {
                                    "record": [
                                        {
                                            "name": "buf",
                                            "value": {
                                                "raw_value": {
                                                    "const_pointer": [
                                                        { "raw_value": { "builtin": { "u8": 97 } } },
                                                        { "raw_value": { "builtin": { "u8": 98 } } }
                                                    ]
                                                }
                                            }
                                        },
                                        {
                                            "name": "buf_len",
                                            "value": { "raw_value": { "builtin": { "u32": 2 } } }
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                }
            ],
            "results": [
                { "resource": 2 }
            ]
        },
        {
            "func": "fd_seek",
            "params": [
                { "resource": 1 },
                { "raw_value": { "builtin": { "s64": 0 } } },
                { "raw_value": { "variant": { "name": "set" } } }
            ],
            "results": [ "ignore" ]
        },
        {
            "func": "fd_pread",
            "params": [
                { "resource": 1 },
                {
                    "raw_value": {
                        "array": [
                            {
                                "raw_value": {
                                    "record": [
                                        {
                                            "name": "buf",
                                            "value": {
                                                "raw_value": {
                                                    "pointer": { "alloc": { "resource": 2 } }
                                                }
                                            }
                                        },
                                        {
                                            "name": "buf_len",
                                            "value": { "raw_value": { "builtin": { "u32": 2 } } }
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                },
                { "raw_value": { "builtin": { "u64": 0 } } }
            ],
            "results": [
                { "resource": 3 }
            ]
        }
    ]
}
